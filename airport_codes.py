# Comprehensive International Airport Codes
# Organized by region/country

AIRPORT_CODES = {
    # ============== UNITED STATES ==============
    "new york": "JFK", "nyc": "JFK", "jfk": "JFK",
    "new york laguardia": "LGA", "laguardia": "LGA",
    "newark": "EWR",
    "los angeles": "LAX", "la": "LAX",
    "san francisco": "SFO",
    "chicago": "ORD", "chicago ohare": "ORD",
    "chicago midway": "MDW",
    "miami": "MIA",
    "fort lauderdale": "FLL",
    "orlando": "MCO",
    "tampa": "TPA",
    "atlanta": "ATL",
    "dallas": "DFW", "dallas fort worth": "DFW",
    "houston": "IAH", "houston intercontinental": "IAH",
    "houston hobby": "HOU",
    "denver": "DEN",
    "seattle": "SEA",
    "boston": "BOS",
    "las vegas": "LAS",
    "phoenix": "PHX",
    "philadelphia": "PHL",
    "san diego": "SAN",
    "detroit": "DTW",
    "minneapolis": "MSP",
    "charlotte": "CLT",
    "washington": "IAD", "washington dulles": "IAD",
    "washington reagan": "DCA", "reagan": "DCA",
    "baltimore": "BWI",
    "salt lake city": "SLC",
    "portland": "PDX",
    "austin": "AUS",
    "nashville": "BNA",
    "new orleans": "MSY",
    "honolulu": "HNL", "hawaii": "HNL",
    "anchorage": "ANC", "alaska": "ANC",
    "san jose": "SJC",
    "raleigh": "RDU",
    "cleveland": "CLE",
    "indianapolis": "IND",
    "pittsburgh": "PIT",
    "cincinnati": "CVG",
    "kansas city": "MCI",
    "st louis": "STL", "saint louis": "STL",
    "milwaukee": "MKE",
    "buffalo": "BUF",
    
    # ============== CANADA ==============
    "toronto": "YYZ",
    "vancouver": "YVR",
    "montreal": "YUL",
    "calgary": "YYC",
    "edmonton": "YEG",
    "ottawa": "YOW",
    "winnipeg": "YWG",
    "halifax": "YHZ",
    "quebec city": "YQB",
    "victoria": "YYJ",
    
    # ============== MEXICO & CENTRAL AMERICA ==============
    "mexico city": "MEX",
    "cancun": "CUN",
    "guadalajara": "GDL",
    "monterrey": "MTY",
    "tijuana": "TIJ",
    "puerto vallarta": "PVR",
    "los cabos": "SJD", "cabo san lucas": "SJD",
    "panama city": "PTY", "panama": "PTY",
    "san jose costa rica": "SJO", "costa rica": "SJO",
    "guatemala city": "GUA", "guatemala": "GUA",
    "san salvador": "SAL", "el salvador": "SAL",
    "managua": "MGA", "nicaragua": "MGA",
    "tegucigalpa": "TGU", "honduras": "TGU",
    "belize city": "BZE", "belize": "BZE",
    
    # ============== CARIBBEAN ==============
    "nassau": "NAS", "bahamas": "NAS",
    "kingston": "KIN", "jamaica": "KIN",
    "montego bay": "MBJ",
    "san juan": "SJU", "puerto rico": "SJU",
    "punta cana": "PUJ",
    "santo domingo": "SDQ", "dominican republic": "SDQ",
    "havana": "HAV", "cuba": "HAV",
    "aruba": "AUA",
    "curacao": "CUR",
    "barbados": "BGI",
    "st maarten": "SXM", "saint maarten": "SXM",
    "trinidad": "POS", "port of spain": "POS",
    "grand cayman": "GCM", "cayman islands": "GCM",
    "bermuda": "BDA",
    "turks and caicos": "PLS",
    
    # ============== SOUTH AMERICA ==============
    "sao paulo": "GRU", "são paulo": "GRU",
    "rio de janeiro": "GIG", "rio": "GIG",
    "buenos aires": "EZE",
    "bogota": "BOG", "bogotá": "BOG", "colombia": "BOG",
    "lima": "LIM", "peru": "LIM",
    "santiago": "SCL", "chile": "SCL",
    "caracas": "CCS", "venezuela": "CCS",
    "quito": "UIO", "ecuador": "UIO",
    "guayaquil": "GYE",
    "medellin": "MDE", "medellín": "MDE",
    "cartagena": "CTG",
    "montevideo": "MVD", "uruguay": "MVD",
    "asuncion": "ASU", "paraguay": "ASU",
    "la paz": "LPB", "bolivia": "LPB",
    "santa cruz bolivia": "VVI",
    "cusco": "CUZ", "cuzco": "CUZ",
    
    # ============== UNITED KINGDOM & IRELAND ==============
    "london": "LHR", "london heathrow": "LHR", "heathrow": "LHR",
    "london gatwick": "LGW", "gatwick": "LGW",
    "london stansted": "STN", "stansted": "STN",
    "london luton": "LTN", "luton": "LTN",
    "london city": "LCY",
    "manchester": "MAN",
    "birmingham uk": "BHX",
    "edinburgh": "EDI",
    "glasgow": "GLA",
    "bristol": "BRS",
    "newcastle": "NCL",
    "belfast": "BFS",
    "liverpool": "LPL",
    "leeds": "LBA",
    "dublin": "DUB", "ireland": "DUB",
    "cork": "ORK",
    "shannon": "SNN",
    
    # ============== WESTERN EUROPE ==============
    "paris": "CDG", "paris cdg": "CDG", "charles de gaulle": "CDG",
    "paris orly": "ORY", "orly": "ORY",
    "amsterdam": "AMS", "netherlands": "AMS",
    "frankfurt": "FRA",
    "munich": "MUC",
    "berlin": "BER",
    "dusseldorf": "DUS", "düsseldorf": "DUS",
    "hamburg": "HAM",
    "cologne": "CGN", "köln": "CGN",
    "stuttgart": "STR",
    "zurich": "ZRH", "zürich": "ZRH", "switzerland": "ZRH",
    "geneva": "GVA",
    "basel": "BSL",
    "vienna": "VIE", "austria": "VIE",
    "brussels": "BRU", "belgium": "BRU",
    "luxembourg": "LUX",
    
    # ============== SOUTHERN EUROPE ==============
    "rome": "FCO", "rome fiumicino": "FCO",
    "milan": "MXP", "milan malpensa": "MXP",
    "milan linate": "LIN",
    "venice": "VCE",
    "florence": "FLR",
    "naples": "NAP",
    "bologna": "BLQ",
    "pisa": "PSA",
    "turin": "TRN",
    "madrid": "MAD", "spain": "MAD",
    "barcelona": "BCN",
    "malaga": "AGP",
    "valencia": "VLC",
    "seville": "SVQ",
    "bilbao": "BIO",
    "alicante": "ALC",
    "palma de mallorca": "PMI", "mallorca": "PMI",
    "ibiza": "IBZ",
    "tenerife": "TFS",
    "gran canaria": "LPA",
    "lisbon": "LIS", "portugal": "LIS",
    "porto": "OPO",
    "faro": "FAO",
    "athens": "ATH", "greece": "ATH",
    "thessaloniki": "SKG",
    "santorini": "JTR",
    "mykonos": "JMK",
    "crete": "HER", "heraklion": "HER",
    "rhodes": "RHO",
    "corfu": "CFU",
    
    # ============== NORTHERN & EASTERN EUROPE ==============
    "copenhagen": "CPH", "denmark": "CPH",
    "stockholm": "ARN", "sweden": "ARN",
    "oslo": "OSL", "norway": "OSL",
    "helsinki": "HEL", "finland": "HEL",
    "reykjavik": "KEF", "iceland": "KEF",
    "warsaw": "WAW", "poland": "WAW",
    "krakow": "KRK",
    "prague": "PRG", "czech republic": "PRG", "czechia": "PRG",
    "budapest": "BUD", "hungary": "BUD",
    "bucharest": "OTP", "romania": "OTP",
    "sofia": "SOF", "bulgaria": "SOF",
    "belgrade": "BEG", "serbia": "BEG",
    "zagreb": "ZAG", "croatia": "ZAG",
    "split": "SPU",
    "dubrovnik": "DBV",
    "ljubljana": "LJU", "slovenia": "LJU",
    "bratislava": "BTS", "slovakia": "BTS",
    "tallinn": "TLL", "estonia": "TLL",
    "riga": "RIX", "latvia": "RIX",
    "vilnius": "VNO", "lithuania": "VNO",
    "kyiv": "KBP", "kiev": "KBP", "ukraine": "KBP",
    "moscow": "SVO", "moscow sheremetyevo": "SVO",
    "moscow domodedovo": "DME",
    "st petersburg": "LED", "saint petersburg": "LED",
    
    # ============== MIDDLE EAST ==============
    "dubai": "DXB", "uae": "DXB",
    "abu dhabi": "AUH",
    "doha": "DOH", "qatar": "DOH",
    "riyadh": "RUH", "saudi arabia": "RUH",
    "jeddah": "JED",
    "kuwait city": "KWI", "kuwait": "KWI",
    "bahrain": "BAH", "manama": "BAH",
    "muscat": "MCT", "oman": "MCT",
    "amman": "AMM", "jordan": "AMM",
    "beirut": "BEY", "lebanon": "BEY",
    "tel aviv": "TLV", "israel": "TLV",
    "cairo": "CAI", "egypt": "CAI",
    "sharm el sheikh": "SSH",
    "hurghada": "HRG",
    "luxor": "LXR",
    "tehran": "IKA", "iran": "IKA",
    "baghdad": "BGW", "iraq": "BGW",
    
    # ============== TURKEY ==============
    "istanbul": "IST",
    "istanbul sabiha": "SAW",
    "ankara": "ESB",
    "antalya": "AYT",
    "izmir": "ADB",
    "bodrum": "BJV",
    
    # ============== AFRICA ==============
    "johannesburg": "JNB", "south africa": "JNB",
    "cape town": "CPT",
    "durban": "DUR",
    "nairobi": "NBO", "kenya": "NBO",
    "addis ababa": "ADD", "ethiopia": "ADD",
    "lagos": "LOS", "nigeria": "LOS",
    "abuja": "ABV",
    "accra": "ACC", "ghana": "ACC",
    "casablanca": "CMN", "morocco": "CMN",
    "marrakech": "RAK",
    "tunis": "TUN", "tunisia": "TUN",
    "algiers": "ALG", "algeria": "ALG",
    "dar es salaam": "DAR", "tanzania": "DAR",
    "zanzibar": "ZNZ",
    "kilimanjaro": "JRO",
    "entebbe": "EBB", "uganda": "EBB",
    "kigali": "KGL", "rwanda": "KGL",
    "victoria falls": "VFA",
    "windhoek": "WDH", "namibia": "WDH",
    "mauritius": "MRU",
    "seychelles": "SEZ",
    "dakar": "DSS", "senegal": "DSS",
    "abidjan": "ABJ", "ivory coast": "ABJ",
    
    # ============== SOUTH ASIA ==============
    "mumbai": "BOM", "bombay": "BOM",
    "delhi": "DEL", "new delhi": "DEL",
    "bangalore": "BLR", "bengaluru": "BLR",
    "chennai": "MAA", "madras": "MAA",
    "kolkata": "CCU", "calcutta": "CCU",
    "hyderabad": "HYD",
    "ahmedabad": "AMD",
    "pune": "PNQ",
    "goa": "GOI",
    "jaipur": "JAI",
    "kochi": "COK", "cochin": "COK",
    "trivandrum": "TRV",
    "amritsar": "ATQ",
    "varanasi": "VNS",
    "colombo": "CMB", "sri lanka": "CMB",
    "male": "MLE", "maldives": "MLE",
    "kathmandu": "KTM", "nepal": "KTM",
    "dhaka": "DAC", "bangladesh": "DAC",
    "islamabad": "ISB", "pakistan": "ISB",
    "karachi": "KHI",
    "lahore": "LHE",
    
    # ============== SOUTHEAST ASIA ==============
    "singapore": "SIN",
    "bangkok": "BKK", "thailand": "BKK",
    "bangkok don mueang": "DMK",
    "phuket": "HKT",
    "chiang mai": "CNX",
    "krabi": "KBV",
    "koh samui": "USM",
    "kuala lumpur": "KUL", "malaysia": "KUL",
    "penang": "PEN",
    "langkawi": "LGK",
    "jakarta": "CGK", "indonesia": "CGK",
    "bali": "DPS", "denpasar": "DPS",
    "yogyakarta": "JOG",
    "surabaya": "SUB",
    "manila": "MNL", "philippines": "MNL",
    "cebu": "CEB",
    "boracay": "KLO",
    "ho chi minh city": "SGN", "saigon": "SGN", "vietnam": "SGN",
    "hanoi": "HAN",
    "da nang": "DAD",
    "phnom penh": "PNH", "cambodia": "PNH",
    "siem reap": "REP",
    "yangon": "RGN", "myanmar": "RGN", "rangoon": "RGN",
    "vientiane": "VTE", "laos": "VTE",
    "luang prabang": "LPQ",
    "brunei": "BWN",
    
    # ============== EAST ASIA ==============
    "tokyo": "HND", "tokyo haneda": "HND", "haneda": "HND",
    "tokyo narita": "NRT", "narita": "NRT",
    "osaka": "KIX", "kansai": "KIX",
    "osaka itami": "ITM",
    "kyoto": "KIX",  # Uses Osaka Kansai
    "nagoya": "NGO",
    "fukuoka": "FUK",
    "sapporo": "CTS",
    "okinawa": "OKA", "naha": "OKA",
    "hiroshima": "HIJ",
    "seoul": "ICN", "incheon": "ICN", "south korea": "ICN",
    "seoul gimpo": "GMP",
    "busan": "PUS",
    "jeju": "CJU",
    "beijing": "PEK", "beijing capital": "PEK",
    "beijing daxing": "PKX",
    "shanghai": "PVG", "shanghai pudong": "PVG",
    "shanghai hongqiao": "SHA",
    "guangzhou": "CAN",
    "shenzhen": "SZX",
    "hong kong": "HKG",
    "macau": "MFM",
    "taipei": "TPE", "taiwan": "TPE",
    "kaohsiung": "KHH",
    "chengdu": "CTU",
    "chongqing": "CKG",
    "xi'an": "XIY", "xian": "XIY",
    "hangzhou": "HGH",
    "nanjing": "NKG",
    "qingdao": "TAO",
    "dalian": "DLC",
    "kunming": "KMG",
    "hainan": "HAK", "haikou": "HAK",
    "sanya": "SYX",
    "guilin": "KWL",
    "zhengzhou": "CGO",
    "wuhan": "WUH",
    "ulaanbaatar": "ULN", "mongolia": "ULN",
    
    # ============== OCEANIA ==============
    "sydney": "SYD", "australia": "SYD",
    "melbourne": "MEL",
    "brisbane": "BNE",
    "perth": "PER",
    "adelaide": "ADL",
    "gold coast": "OOL",
    "cairns": "CNS",
    "darwin": "DRW",
    "hobart": "HBA",
    "canberra": "CBR",
    "auckland": "AKL", "new zealand": "AKL",
    "wellington": "WLG",
    "christchurch": "CHC",
    "queenstown": "ZQN",
    "fiji": "NAN", "nadi": "NAN",
    "tahiti": "PPT", "papeete": "PPT",
    "bora bora": "BOB",
    "noumea": "NOU", "new caledonia": "NOU",
    "port moresby": "POM", "papua new guinea": "POM",
    "guam": "GUM",
    "palau": "ROR",
    "samoa": "APW",
    "vanuatu": "VLI",
    "tonga": "TBU",
}
# Country/Region to Currency mapping
DESTINATION_CURRENCIES = {
    # USA
    "JFK": "USD", "LAX": "USD", "ORD": "USD", "MIA": "USD", "SFO": "USD",
    "LAS": "USD", "SEA": "USD", "BOS": "USD", "DEN": "USD", "ATL": "USD",
    "DFW": "USD", "IAH": "USD", "PHX": "USD", "EWR": "USD", "HNL": "USD",
    
    # Europe - Euro
    "CDG": "EUR", "AMS": "EUR", "FRA": "EUR", "MUC": "EUR", "FCO": "EUR",
    "MAD": "EUR", "BCN": "EUR", "LIS": "EUR", "ATH": "EUR", "DUB": "EUR",
    "BRU": "EUR", "VIE": "EUR", "HEL": "EUR", "MXP": "EUR", "VCE": "EUR",
    
    # UK
    "LHR": "GBP", "LGW": "GBP", "MAN": "GBP", "EDI": "GBP", "STN": "GBP",
    
    # Japan
    "HND": "JPY", "NRT": "JPY", "KIX": "JPY", "FUK": "JPY", "CTS": "JPY",
    
    # India
    "DEL": "INR", "BOM": "INR", "BLR": "INR", "MAA": "INR", "CCU": "INR",
    
    # UAE
    "DXB": "AED", "AUH": "AED",
    
    # Thailand
    "BKK": "THB", "HKT": "THB", "CNX": "THB",
    
    # Singapore
    "SIN": "SGD",
    
    # Malaysia
    "KUL": "MYR", "PEN": "MYR",
    
    # Indonesia
    "DPS": "IDR", "CGK": "IDR",
    
    # Australia
    "SYD": "AUD", "MEL": "AUD", "BNE": "AUD", "PER": "AUD",
    
    # New Zealand
    "AKL": "NZD", "WLG": "NZD", "CHC": "NZD",
    
    # Canada
    "YYZ": "CAD", "YVR": "CAD", "YUL": "CAD",
    
    # Mexico
    "MEX": "MXN", "CUN": "MXN",
    
    # Brazil
    "GRU": "BRL", "GIG": "BRL",
    
    # South Korea
    "ICN": "KRW", "GMP": "KRW",
    
    # China
    "PEK": "CNY", "PVG": "CNY", "CAN": "CNY",
    
    # Hong Kong
    "HKG": "HKD",
    
    # Taiwan
    "TPE": "TWD",
    
    # Philippines
    "MNL": "PHP", "CEB": "PHP",
    
    # Vietnam
    "SGN": "VND", "HAN": "VND",
    
    # South Africa
    "JNB": "ZAR", "CPT": "ZAR",
    
    # Turkey
    "IST": "TRY", "AYT": "TRY",
    
    # Switzerland
    "ZRH": "CHF", "GVA": "CHF",
    
    # Maldives
    "MLE": "USD",  # Maldives uses USD for tourism
    
    # Qatar
    "DOH": "QAR",
    
    # Saudi Arabia
    "RUH": "SAR", "JED": "SAR",
    
    # Egypt
    "CAI": "EGP",
    
    # Morocco
    "CMN": "MAD", "RAK": "MAD",
    
    # Kenya
    "NBO": "KES",
    
    # Sri Lanka
    "CMB": "LKR",
    
    # Nepal
    "KTM": "NPR",
    
    # Pakistan
    "ISB": "PKR", "KHI": "PKR",
    
    # Bangladesh
    "DAC": "BDT",
    
    # Argentina
    "EZE": "ARS",
    
    # Chile
    "SCL": "CLP",
    
    # Colombia
    "BOG": "COP",
    
    # Peru
    "LIM": "PEN",
    
    # Israel
    "TLV": "ILS",
    
    # Sweden
    "ARN": "SEK",
    
    # Norway
    "OSL": "NOK",
    
    # Denmark
    "CPH": "DKK",
    
    # Poland
    "WAW": "PLN",
    
    # Czech Republic
    "PRG": "CZK",
    
    # Hungary
    "BUD": "HUF",
    
    # Romania
    "OTP": "RON",
    
    # Iceland
    "KEF": "ISK",
    
    # Russia
    "SVO": "RUB", "LED": "RUB",
    
    # Fiji
    "NAN": "FJD",
}

def get_destination_currency(airport_code):
    """Get the local currency for a destination airport."""
    return DESTINATION_CURRENCIES.get(airport_code, "USD")

def get_airport_code(city):
    """Get airport code for a city. Returns None if not found."""
    if not city:
        return None
    return AIRPORT_CODES.get(city.lower().strip(), None)

def get_destination_currency(airport_code):
    """Get the local currency for a destination airport."""
    return DESTINATION_CURRENCIES.get(airport_code, "USD")
    
def search_airport_code(query):
    """Search for matching airports based on partial query."""
    if not query:
        return []
    
    query = query.lower().strip()
    matches = []
    
    for city, code in AIRPORT_CODES.items():
        if query in city.lower():
            matches.append((city.title(), code))
    
    # Remove duplicates (same code)
    seen_codes = set()
    unique_matches = []
    for city, code in matches:
        if code not in seen_codes:
            seen_codes.add(code)
            unique_matches.append((city, code))
    
    return unique_matches[:10]  # Return top 10 matches
